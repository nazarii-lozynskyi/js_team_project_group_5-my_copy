{"version":3,"sources":["js/library/queued-movie.js"],"names":["API_KEY","BASE_URL","refs","gallery","document","querySelector","getQueued","watchedMovieListId","JSON","parse","localStorage","getItem","clearGallery","console","log","innerHTML","div","createElement","image","setAttribute","appendChild","style","borderRadius","getElementById","forEach","id","fetch","then","r","json","movieInfo","releaseDate","release_date","slice","backdrop_path","insertAdjacentHTML","title","genres","name","vote_average","length","poster_path"],"mappings":";AAqKC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EArKD,MAAMA,EAAU,mCACVC,EAAW,+BAEXC,EAAO,CACXC,QAASC,SAASC,cAAc,aAGnB,SAASC,IAChBC,MAAAA,EAAqBC,KAAKC,MAAMC,aAAaC,QAAQ,WAKvDJ,GAJJK,IAEAC,QAAQC,IAAIJ,aAAaC,QAAQ,WAEN,OAAvBJ,GAAkE,OAAnCG,aAAaC,QAAQ,UAAoB,CAC1EE,QAAQC,IAAIP,GAEZM,QAAQC,IAAIJ,aAAaC,QAAQ,WACjCT,EAAKC,QAAQY,UAAa,yIAKtBC,IAAAA,EAAMZ,SAASa,cAAc,OAC7BC,EAAQd,SAASa,cAAc,OACnCC,EAAMC,aACJ,MACA,2EAEFH,EAAII,YAAYF,GAAOG,MAAMC,aAAe,OAC5ClB,SAASmB,eAAe,SAASH,YAAYJ,OACxC,CACST,EAAmBiB,QAAQ,SAAyBC,GAChEC,SAASzB,WAAkBwB,aAAczB,KAAW2B,KAAKC,GACvDA,EAAEC,OAAOF,KAAKG,IACNC,MAAAA,EAAcD,EAAUE,aAAaC,MAAM,EAAG,GA0H7CH,OAxHyB,OAA5BA,EAAUI,eACZhC,EAAKC,QAAQgC,mBACX,kGAGyDL,EAAUL,WAAWK,EAAUL,cAAcK,EAAUM,6SAMnGN,EAAUM,wCACNN,EAAUL,mPAOIK,EAAUM,iFAEbN,EAAUO,OAAO,GAAGC,UAAUP,2DACjBD,EAAUS,oIASnDT,EAAUO,OAAOG,QAAU,EAC7BtC,EAAKC,QAAQgC,mBACX,kGAGyDL,EAAUL,WAAWK,EAAUL,cAAcK,EAAUM,qOAKpEN,EAAUW,0CACzCX,EAAUM,wCACNN,EAAUL,mPAOIK,EAAUM,iFAEbN,EAAUO,OAAO,GAAGC,SAASR,EAAUO,OAAO,GAAGC,iBAAiBP,2DACrDD,EAAUS,qIAO3CT,EAAUO,OAAOG,OAAS,GACpCtC,EAAKC,QAAQgC,mBACX,kGAGyDL,EAAUL,WAAWK,EAAUL,cAAcK,EAAUM,qOAKpEN,EAAUW,0CACzCX,EAAUM,wCACNN,EAAUL,mPAOIK,EAAUM,iFAEbN,EAAUO,OAAO,GAAGC,SAASR,EAAUO,OAAO,GAAGC,UAAUP,2DAC9CD,EAAUS,qIAO3CT,EAAUO,OAAOG,OAAS,IACpCtC,EAAKC,QAAQgC,mBACX,kGAGyDL,EAAUL,WAAWK,EAAUL,cAAcK,EAAUM,qOAKpEN,EAAUW,0CACzCX,EAAUM,wCACNN,EAAUL,mPAOIK,EAAUM,iFAEbN,EAAUO,OAAO,GAAGC,UAAUP,2DACjBD,EAAUS,oIAShDT,QAOjB,SAASlB,IACPV,EAAKC,QAAQY,UAAY","file":"queued-movie.b4abdf17.js","sourceRoot":"../src","sourcesContent":["const API_KEY = '838a1c7309b989baab596bfe84b6d2d8';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nconst refs = {\n  gallery: document.querySelector('.gallery'),\n};\n\nexport default function getQueued() {\n  const watchedMovieListId = JSON.parse(localStorage.getItem('queued'));\n  clearGallery();\n\n  console.log(localStorage.getItem('queued'));\n\n  if (watchedMovieListId === null || localStorage.getItem('queued') === '[]') {\n    console.log(watchedMovieListId);\n\n    console.log(localStorage.getItem('queued'));\n    refs.gallery.innerHTML = ` <div class=\"container-empty\" id=\"block\">\n         <p class=\"info-text__library\"> Your library is empty.</p>\n      </div>\n         `;\n\n    var div = document.createElement('div');\n    var image = document.createElement('img');\n    image.setAttribute(\n      'src',\n      'https://cdn.pixabay.com/photo/2012/11/05/07/39/projector-64149_1280.jpg',\n    );\n    div.appendChild(image).style.borderRadius = '10px';\n    document.getElementById('block').appendChild(div);\n  } else {\n    const infoM = watchedMovieListId.forEach(function fetchMovieById2(id) {\n      fetch(`${BASE_URL}/movie/${id}?api_key=${API_KEY}`).then(r =>\n        r.json().then(movieInfo => {\n          const releaseDate = movieInfo.release_date.slice(0, 4);\n\n          if (movieInfo.backdrop_path === null) {\n            refs.gallery.insertAdjacentHTML(\n              'beforeend',\n              `\n          \n          <li class='wow animate__fadeInUp card__item list' data-id='${movieInfo.id}' id='${movieInfo.id}' title='${movieInfo.title}'>\n            <article class='card'>\n              <a href='' class='card__link link'>\n                <div class='card-img-container'>\n                  <img\n                    src='https://martialartsplusinc.com/wp-content/uploads/2017/04/default-image.jpg'\n                    alt='${movieInfo.title}'\n                    data-id='${movieInfo.id}'\n                    class='card__image'\n                  />\n                </div>\n\n                <div class='card__description'>\n                  <div class='card-name__container'>\n                    <h2 class='card__name'>${movieInfo.title}</h2>\n                  </div>\n                  <p class='card__info'>${movieInfo.genres[0].name} | ${releaseDate}\n                    <span class='card__movie-rating'>${movieInfo.vote_average}</span>\n                  </p>\n                </div>\n              </a>\n            </article>\n          </li>`,\n            );\n          }\n\n          if (movieInfo.genres.length >= 3) {\n            refs.gallery.insertAdjacentHTML(\n              'beforeend',\n              `\n          \n          <li class='wow animate__fadeInUp card__item list' data-id='${movieInfo.id}' id='${movieInfo.id}' title='${movieInfo.title}'>\n            <article class='card'>\n              <a href='' class='card__link link'>\n                <div class='card-img-container'>\n                  <img\n                    src='https://image.tmdb.org/t/p/w500${movieInfo.poster_path}'\n                    alt='${movieInfo.title}'\n                    data-id='${movieInfo.id}'\n                    class='card__image'\n                  />\n                </div>\n\n                <div class='card__description'>\n                  <div class='card-name__container'>\n                    <h2 class='card__name'>${movieInfo.title}</h2>\n                  </div>\n                  <p class='card__info'>${movieInfo.genres[0].name}, ${movieInfo.genres[1].name}, Other | ${releaseDate}\n                    <span class='card__movie-rating'>${movieInfo.vote_average}</span>\n                  </p>\n                </div>\n              </a>\n            </article>\n          </li>`,\n            );\n          } else if ((movieInfo.genres.length = 2)) {\n            refs.gallery.insertAdjacentHTML(\n              'beforeend',\n              `\n          \n          <li class='wow animate__fadeInUp card__item list' data-id='${movieInfo.id}' id='${movieInfo.id}' title='${movieInfo.title}'>\n            <article class='card'>\n              <a href='' class='card__link link'>\n                <div class='card-img-container'>\n                  <img\n                    src='https://image.tmdb.org/t/p/w500${movieInfo.poster_path}'\n                    alt='${movieInfo.title}'\n                    data-id='${movieInfo.id}'\n                    class='card__image'\n                  />\n                </div>\n\n                <div class='card__description'>\n                  <div class='card-name__container'>\n                    <h2 class='card__name'>${movieInfo.title}</h2>\n                  </div>\n                  <p class='card__info'>${movieInfo.genres[0].name}, ${movieInfo.genres[1].name} | ${releaseDate}\n                    <span class='card__movie-rating'>${movieInfo.vote_average}</span>\n                  </p>\n                </div>\n              </a>\n            </article>\n          </li>`,\n            );\n          } else if ((movieInfo.genres.length = 1)) {\n            refs.gallery.insertAdjacentHTML(\n              'beforeend',\n              `\n          \n          <li class='wow animate__fadeInUp card__item list' data-id='${movieInfo.id}' id='${movieInfo.id}' title='${movieInfo.title}'>\n            <article class='card'>\n              <a href='' class='card__link link'>\n                <div class='card-img-container'>\n                  <img\n                    src='https://image.tmdb.org/t/p/w500${movieInfo.poster_path}'\n                    alt='${movieInfo.title}'\n                    data-id='${movieInfo.id}'\n                    class='card__image'\n                  />\n                </div>\n\n                <div class='card__description'>\n                  <div class='card-name__container'>\n                    <h2 class='card__name'>${movieInfo.title}</h2>\n                  </div>\n                  <p class='card__info'>${movieInfo.genres[0].name} | ${releaseDate}\n                    <span class='card__movie-rating'>${movieInfo.vote_average}</span>\n                  </p>\n                </div>\n              </a>\n            </article>\n          </li>`,\n            );\n          }\n\n          return movieInfo;\n        }),\n      );\n    });\n  }\n}\n\nfunction clearGallery() {\n  refs.gallery.innerHTML = '';\n}\n"]}