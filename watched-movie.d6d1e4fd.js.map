{"version":3,"sources":["js/library/watched-movie.js"],"names":["API_KEY","BASE_URL","refs","gallery","document","querySelector","getWatched","clearGallery","watchedMovieListId","JSON","parse","localStorage","getItem","innerHTML","div","createElement","image","setAttribute","appendChild","style","borderRadius","getElementById","forEach","id","fetch","then","r","json","movieInfo","releaseDate","release_date","slice","backdrop_path","insertAdjacentHTML","title","genres","name","vote_average","length","poster_path"],"mappings":";AAqKC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EArKD,MAAMA,EAAU,mCACVC,EAAW,+BAEXC,EAAO,CACXC,QAASC,SAASC,cAAc,aAGnB,SAASC,IACtBC,IAEMC,MAAAA,EAAqBC,KAAKC,MAAMC,aAAaC,QAAQ,YAEvDJ,GAAuB,OAAvBA,GAAmE,OAApCG,aAAaC,QAAQ,WAAqB,CAC3EV,EAAKC,QAAQU,UAAa,yIAKtBC,IAAAA,EAAMV,SAASW,cAAc,OAC7BC,EAAQZ,SAASW,cAAc,OAEnCC,EAAMC,aACJ,MACA,2EAGFH,EAAII,YAAYF,GAAOG,MAAMC,aAAe,OAC5ChB,SAASiB,eAAe,SAASH,YAAYJ,QAE7CN,EAAmBc,QAAQ,SAAyBC,GAClDC,SAASvB,WAAkBsB,aAAcvB,KAAWyB,KAAKC,GACvDA,EAAEC,OAAOF,KAAKG,IAGNC,MAAAA,EAAcD,EAAUE,aAAaC,MAAM,EAAG,GA0H7CH,OAxHyB,OAA5BA,EAAUI,eACZ9B,EAAKC,QAAQ8B,mBACX,kGAGyDL,EAAUL,WAAWK,EAAUL,cAAcK,EAAUM,6SAMnGN,EAAUM,wCACNN,EAAUL,mPAOIK,EAAUM,iFAEbN,EAAUO,OAAO,GAAGC,UAAUP,2DACjBD,EAAUS,oIASnDT,EAAUO,OAAOG,OAAS,EAC5BpC,EAAKC,QAAQ8B,mBACX,kGAGyDL,EAAUL,WAAWK,EAAUL,cAAcK,EAAUM,qOAKpEN,EAAUW,0CACzCX,EAAUM,wCACNN,EAAUL,mPAOIK,EAAUM,iFAEbN,EAAUO,OAAO,GAAGC,SAASR,EAAUO,OAAO,GAAGC,iBAAiBP,2DACrDD,EAAUS,qIAO3CT,EAAUO,OAAOG,OAAS,GACpCpC,EAAKC,QAAQ8B,mBACX,kGAGyDL,EAAUL,WAAWK,EAAUL,cAAcK,EAAUM,qOAKpEN,EAAUW,0CACzCX,EAAUM,wCACNN,EAAUL,mPAOIK,EAAUM,iFAEbN,EAAUO,OAAO,GAAGC,iBAAiBP,2DACxBD,EAAUS,qIAO3CT,EAAUO,OAAOG,OAAS,IACpCpC,EAAKC,QAAQ8B,mBACX,kGAGyDL,EAAUL,WAAWK,EAAUL,cAAcK,EAAUM,qOAKpEN,EAAUW,0CACzCX,EAAUM,wCACNN,EAAUL,mPAOIK,EAAUM,iFAEbN,EAAUO,OAAO,GAAGC,UAAUP,2DACjBD,EAAUS,oIAShDT,OAOjB,SAASrB,IACPL,EAAKC,QAAQU,UAAY","file":"watched-movie.d6d1e4fd.js","sourceRoot":"../src","sourcesContent":["const API_KEY = '838a1c7309b989baab596bfe84b6d2d8';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nconst refs = {\n  gallery: document.querySelector('.gallery'),\n};\n\nexport default function getWatched() {\n  clearGallery();\n\n  const watchedMovieListId = JSON.parse(localStorage.getItem('watched'));\n\n  if (watchedMovieListId === null || localStorage.getItem('watched') === '[]') {\n    refs.gallery.innerHTML = ` <div class=\"container-empty\" id=\"block\">\n         <p class=\"info-text__library\"> Your library is empty.</p>\n      </div>\n         `;\n\n    var div = document.createElement('div');\n    var image = document.createElement('img');\n\n    image.setAttribute(\n      'src',\n      'https://cdn.pixabay.com/photo/2012/11/05/07/39/projector-64149_1280.jpg',\n    );\n\n    div.appendChild(image).style.borderRadius = '10px';\n    document.getElementById('block').appendChild(div);\n  } else {\n    watchedMovieListId.forEach(function fetchMovieById2(id) {\n      fetch(`${BASE_URL}/movie/${id}?api_key=${API_KEY}`).then(r =>\n        r.json().then(movieInfo => {\n          // console.log(movieInfo.genres.length);\n\n          const releaseDate = movieInfo.release_date.slice(0, 4);\n\n          if (movieInfo.backdrop_path === null) {\n            refs.gallery.insertAdjacentHTML(\n              'beforeend',\n              `\n          \n          <li class='wow animate__fadeInUp card__item list' data-id='${movieInfo.id}' id='${movieInfo.id}' title='${movieInfo.title}'>\n            <article class='card'>\n              <a href='' class='card__link link'>\n                <div class='card-img-container'>\n                  <img\n                    src='https://martialartsplusinc.com/wp-content/uploads/2017/04/default-image.jpg'\n                    alt='${movieInfo.title}'\n                    data-id='${movieInfo.id}'\n                    class='card__image'\n                  />\n                </div>\n\n                <div class='card__description'>\n                  <div class='card-name__container'>\n                    <h2 class='card__name'>${movieInfo.title}</h2>\n                  </div>\n                  <p class='card__info'>${movieInfo.genres[0].name} | ${releaseDate}\n                    <span class='card__movie-rating'>${movieInfo.vote_average}</span>\n                  </p>\n                </div>\n              </a>\n            </article>\n          </li>`,\n            );\n          }\n\n          if (movieInfo.genres.length > 3) {\n            refs.gallery.insertAdjacentHTML(\n              'beforeend',\n              `\n          \n          <li class='wow animate__fadeInUp card__item list' data-id='${movieInfo.id}' id='${movieInfo.id}' title='${movieInfo.title}'>\n            <article class='card'>\n              <a href='' class='card__link link'>\n                <div class='card-img-container'>\n                  <img\n                    src='https://image.tmdb.org/t/p/w500${movieInfo.poster_path}'\n                    alt='${movieInfo.title}'\n                    data-id='${movieInfo.id}'\n                    class='card__image'\n                  />\n                </div>\n\n                <div class='card__description'>\n                  <div class='card-name__container'>\n                    <h2 class='card__name'>${movieInfo.title}</h2>\n                  </div>\n                  <p class='card__info'>${movieInfo.genres[0].name}, ${movieInfo.genres[1].name}, other | ${releaseDate}\n                    <span class='card__movie-rating'>${movieInfo.vote_average}</span>\n                  </p>\n                </div>\n              </a>\n            </article>\n          </li>`,\n            );\n          } else if ((movieInfo.genres.length = 2)) {\n            refs.gallery.insertAdjacentHTML(\n              'beforeend',\n              `\n          \n          <li class='wow animate__fadeInUp card__item list' data-id='${movieInfo.id}' id='${movieInfo.id}' title='${movieInfo.title}'>\n            <article class='card'>\n              <a href='' class='card__link link'>\n                <div class='card-img-container'>\n                  <img\n                    src='https://image.tmdb.org/t/p/w500${movieInfo.poster_path}'\n                    alt='${movieInfo.title}'\n                    data-id='${movieInfo.id}'\n                    class='card__image'\n                  />\n                </div>\n\n                <div class='card__description'>\n                  <div class='card-name__container'>\n                    <h2 class='card__name'>${movieInfo.title}</h2>\n                  </div>\n                  <p class='card__info'>${movieInfo.genres[0].name}, other | ${releaseDate}\n                    <span class='card__movie-rating'>${movieInfo.vote_average}</span>\n                  </p>\n                </div>\n              </a>\n            </article>\n          </li>`,\n            );\n          } else if ((movieInfo.genres.length = 1)) {\n            refs.gallery.insertAdjacentHTML(\n              'beforeend',\n              `\n          \n          <li class='wow animate__fadeInUp card__item list' data-id='${movieInfo.id}' id='${movieInfo.id}' title='${movieInfo.title}'>\n            <article class='card'>\n              <a href='' class='card__link link'>\n                <div class='card-img-container'>\n                  <img\n                    src='https://image.tmdb.org/t/p/w500${movieInfo.poster_path}'\n                    alt='${movieInfo.title}'\n                    data-id='${movieInfo.id}'\n                    class='card__image'\n                  />\n                </div>\n\n                <div class='card__description'>\n                  <div class='card-name__container'>\n                    <h2 class='card__name'>${movieInfo.title}</h2>\n                  </div>\n                  <p class='card__info'>${movieInfo.genres[0].name} | ${releaseDate}\n                    <span class='card__movie-rating'>${movieInfo.vote_average}</span>\n                  </p>\n                </div>\n              </a>\n            </article>\n          </li>`,\n            );\n          }\n\n          return movieInfo;\n        }),\n      );\n    });\n  }\n}\n\nfunction clearGallery() {\n  refs.gallery.innerHTML = '';\n}\n"]}